# Packages
library(tidyverse) # Package for everything
library(haven)     # Package for reading dta files
library(ggthemes)  # Package for themes
library(lubridate) # Converts to date format
library(KSPM)      # Package to calculate kernel regression
# Load data
data_ps1 <- readRDS(file =  "data_ps1.rds")
# Creates real values of wages
data_ps1 <- data_ps1 %>%
mutate(real_hhincome = (hhincome*100) / Price_Index)
# yearly mean wages
year_mean_wage <- data_ps1 %>%
filter(age %in% 15:65, sex == 2, incwage >=0 ) %>%
group_by(year) %>%
summarise(mean_wage = mean(incwage, na.rm = T))
colnames(data_ps1)
# Subseting for married women between 25-55
m_women_25_55 <- data_ps1 %>%
filter(age %in% 25:55, marst %in% c(1,2), hhincome >=0)
install.packages("np")
library(np)        # Package to calculate kernel regression
?npreg
?ifelse
View(m_women_25_55)
# Load data
data_ps1 <- readRDS(file =  "data_ps1.rds")
# Creates real values of wages
data_ps1 <- data_ps1 %>%
mutate(real_hhincome = (hhincome*100) / Price_Index,
working = ifelse(empstat == 1, 1, ifelse( empstat == 2,0, 3)))
# Subseting for married women between 25-55
m_women_25_55 <- data_ps1 %>%
filter(age %in% 25:55, marst %in% c(1,2), hhincome >=0)
